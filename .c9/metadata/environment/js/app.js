{"filter":false,"title":"app.js","tooltip":"/js/app.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":46,"column":1},"action":"insert","lines":["var map;","var endpoint = \"https://api.data.gov.sg/v1/transport/taxi-availability\"","","$(function(){","    $(\"#get-taxi-button\").click(function(){","      // async - how do we wait for the data to finish","      // loading before executing the next task?","      getDataFromEndpointAsync(function(data){","          ","          // for each taxi inside the data","          for (let taxi of data)","          {","            let taxiPos = {","                lat: taxi[1],","                lng: taxi[0]","              };","      ","              new google.maps.Marker({","                  position: taxiPos,","                  map: map","              })","          }","          ","        ","      });","      ","    })","});","","function initMap() {","    map = new google.maps.Map(document.getElementById('map'), {","        center: { lat: 1.35, lng: 103.81 },","        zoom: 12","    });","}","","","// data source","function getDataFromEndpointAsync(callback) {","    axios.get(endpoint)","        .then(function(response) {","            let results = response.data.features[0].geometry.coordinates;","            // trigger the callback","            callback(results);","            console.log(response)","        });","}"],"id":1}]]},"ace":{"folds":[],"scrolltop":340.5,"scrollleft":0,"selection":{"start":{"row":12,"column":27},"end":{"row":12,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1562308611365,"hash":"e2549c4dcbb9bcc1748cd9746cf1deac163bf98b"}